# React Context å…¨åŸŸç‹€æ…‹ç®¡ç†

âœ” ä¸ç”¨ä¸€å±¤ä¸€å±¤å‚³ props  
âœ” ç”¨ Context å…±äº«ç‹€æ…‹ï¼ˆä¾‹å¦‚ Todo Listï¼‰  
âœ” é©åˆå¤§å‹å°ˆæ¡ˆ

----------

# ğŸ§± å°ˆæ¡ˆçµæ§‹ï¼ˆContext ç‰ˆ Todo Listï¼‰

    app/
     â”œ context/TodoContext.tsx
     â”œ page.tsx
     â”œ TodoInput.tsx
     â”” TodoList.tsx


----------

# âœ… Step 1ï¼šå»ºç«‹ Context

### context/TodoContext.tsx

    "use client";
    import { createContext, useState, ReactNode } from "react";
    
    interface TodoContextType {
      todos: string[];
      addTodo: (text: string) => void;
      deleteTodo: (index: number) => void;
    }
    
    export const TodoContext = createContext<TodoContextType>({
      todos: [],
      addTodo: () => {},
      deleteTodo: () => {},
    });
    
    type Props = { children: ReactNode };
    
    export function TodoProvider({ children }: Props) {
      const [todos, setTodos] = useState<string[]>([]);
    
      const addTodo = (text: string) => setTodos([...todos, text]);
      const deleteTodo = (index: number) =>
        setTodos(todos.filter((_, i) => i !== index));
    
      return (
        <TodoContext.Provider value={{ todos, addTodo, deleteTodo }}>
          {children}
        </TodoContext.Provider>
      );
    }


----------

# âœ… Step 2ï¼šåœ¨ page.tsx ä½¿ç”¨ Provider

    import { TodoProvider } from "./context/TodoContext";
    import TodoInput from "./TodoInput";
    import TodoList from "./TodoList";
    
    export default function Home() {
      return (
        <TodoProvider>
          <div className="container">
            <h1>Todo List with Context</h1>
            <TodoInput />
            <TodoList />
          </div>
        </TodoProvider>
      );
    }

 

----------

# âœ… Step 3ï¼šå­å…ƒä»¶ä½¿ç”¨ Context

### TodoInput.tsx

    "use client";
    import { useContext, useState } from "react";
    import { TodoContext } from "./context/TodoContext";
    
    export default function TodoInput() {
      const [text, setText] = useState("");
      const { addTodo } = useContext(TodoContext);
    
      const handleAdd = () => {
        if (!text) return;
        addTodo(text);
        setText("");
      };
    
      return (
        <div style={{ display: "flex", marginBottom: "12px" }}>
          <input
            value={text}
            onChange={(e) => setText(e.target.value)}
            placeholder="è¼¸å…¥å¾…è¾¦äº‹é …"
          />
          <button onClick={handleAdd}>æ–°å¢</button>
        </div>
      );
    }


### TodoList.tsx

    "use client";
    import { useContext } from "react";
    import { TodoContext } from "./context/TodoContext";
    
    export default function TodoList() {
      const { todos, deleteTodo } = useContext(TodoContext);
    
      return (
        <ul>
          {todos.map((item, index) => (
            <li key={index} style={{ display: "flex", justifyContent: "space-between", marginBottom: "8px" }}>
              <span>{item}</span>
              <button onClick={() => deleteTodo(index)}>åˆªé™¤</button>
            </li>
          ))}
        </ul>
      );
    }


----------

# ğŸ¯ æ•ˆæœ

-   `todos` ç‹€æ…‹å…¨åŸŸå¯ç”¨
    
-   Input / List ä¸éœ€è¦ props å‚³é
    
-   æ›´å®¹æ˜“æ“´å±•å¤šé é¢å…±äº«è³‡æ–™
    

----------

# ğŸ§  React Context å¿ƒæ³•

1ï¸âƒ£ **Provider** æ”¾åœ¨æœ€å¤–å±¤ï¼ŒåŒ…ä½æ‰€æœ‰éœ€è¦å…±ç”¨çš„å…ƒä»¶  
2ï¸âƒ£ **useContext** åœ¨å­å…ƒä»¶è®€å–æˆ–ä¿®æ”¹ç‹€æ…‹  
3ï¸âƒ£ é©åˆå°åˆ°ä¸­å‹å°ˆæ¡ˆç‹€æ…‹å…±äº«  
4ï¸âƒ£ è‹¥å°ˆæ¡ˆæ›´å¤§ï¼Œè€ƒæ…® Redux / Zustand / Jotaia
